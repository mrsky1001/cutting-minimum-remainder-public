var _n=Object.defineProperty;var wn=(t,e,n)=>e in t?_n(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var S=(t,e,n)=>(wn(t,typeof e!="symbol"?e+"":e,n),n);import{S as Be,i as He,s as We,e as jt,b as j,G as _e,h as k,C as en,E as Et,F as tn,k as E,l as I,W as nn,P as vn,a2 as It,a as R,m as x,c as q,n as d,X as m,I as Cn,q as Z,Z as sn,r as J,_ as on,L as Oe,u as fn,M as yn,N as kn,O as En,g as H,d as W,a3 as an,K as In,Q as Fn,R as hn,w as de,a4 as me,y as G,z as K,A as U,a5 as ge,B as Q,f as Dn,a0 as xn,o as Tn,T as Sn,v as zn}from"../chunks/index.6d77475c.js";import{c as tt}from"../chunks/Indicator.svelte_svelte_type_style_lang.e2c519f7.js";function Rn(t){let e,n,i,o=[t[11],{class:n=tt(t[5],t[3],t[4],t[8],t[10].class)},{src:i=t[1]},{srcset:t[2]},{alt:t[7]}],s={};for(let l=0;l<o.length;l+=1)s=Et(s,o[l]);return{c(){e=E("img"),this.h()},l(l){e=I(l,"IMG",{class:!0,src:!0,srcset:!0,alt:!0}),this.h()},h(){nn(e,s)},m(l,r){j(l,e,r)},p(l,r){nn(e,s=vn(o,[r&2048&&l[11],r&1336&&n!==(n=tt(l[5],l[3],l[4],l[8],l[10].class))&&{class:n},r&2&&!It(e.src,i=l[1])&&{src:i},r&4&&{srcset:l[2]},r&128&&{alt:l[7]}]))},d(l){l&&k(e)}}}function qn(t){let e,n,i,o,s,l;return{c(){e=E("figure"),n=E("img"),s=R(),l=E("figcaption"),this.h()},l(r){e=I(r,"FIGURE",{class:!0});var a=x(e);n=I(a,"IMG",{class:!0,src:!0,srcset:!0,alt:!0}),s=q(a),l=I(a,"FIGCAPTION",{class:!0});var v=x(l);v.forEach(k),a.forEach(k),this.h()},h(){d(n,"class",i=tt(t[5],t[3],t[4],t[8],t[10].class)),It(n.src,o=t[1])||d(n,"src",o),d(n,"srcset",t[2]),d(n,"alt",t[7]),d(l,"class",t[9]),d(e,"class",t[6])},m(r,a){j(r,e,a),m(e,n),m(e,s),m(e,l),l.innerHTML=t[0]},p(r,a){a&1336&&i!==(i=tt(r[5],r[3],r[4],r[8],r[10].class))&&d(n,"class",i),a&2&&!It(n.src,o=r[1])&&d(n,"src",o),a&4&&d(n,"srcset",r[2]),a&128&&d(n,"alt",r[7]),a&1&&(l.innerHTML=r[0]),a&512&&d(l,"class",r[9]),a&64&&d(e,"class",r[6])},d(r){r&&k(e)}}}function Pn(t){let e;function n(s,l){return s[0]?qn:Rn}let i=n(t),o=i(t);return{c(){o.c(),e=jt()},l(s){o.l(s),e=jt()},m(s,l){o.m(s,l),j(s,e,l)},p(s,[l]){i===(i=n(s))&&o?o.p(s,l):(o.d(1),o=i(s),o&&(o.c(),o.m(e.parentNode,e)))},i:_e,o:_e,d(s){o.d(s),s&&k(e)}}}function An(t,e,n){const i=["caption","src","srcset","size","alignment","imgClass","figClass","alt","effect","captionClass"];let o=en(e,i),{caption:s=void 0}=e,{src:l=void 0}=e,{srcset:r=void 0}=e,{size:a="max-w-full"}=e,{alignment:v=""}=e,{imgClass:_="h-auto"}=e,{figClass:h="max-w-lg"}=e,{alt:g=""}=e,{effect:f=""}=e,{captionClass:c="mt-2 text-sm text-center text-gray-500 dark:text-gray-400"}=e;return t.$$set=u=>{n(10,e=Et(Et({},e),tn(u))),n(11,o=en(e,i)),"caption"in u&&n(0,s=u.caption),"src"in u&&n(1,l=u.src),"srcset"in u&&n(2,r=u.srcset),"size"in u&&n(3,a=u.size),"alignment"in u&&n(4,v=u.alignment),"imgClass"in u&&n(5,_=u.imgClass),"figClass"in u&&n(6,h=u.figClass),"alt"in u&&n(7,g=u.alt),"effect"in u&&n(8,f=u.effect),"captionClass"in u&&n(9,c=u.captionClass)},e=tn(e),[s,l,r,a,v,_,h,g,f,c,e,o]}class Nn extends Be{constructor(e){super(),He(this,e,An,Pn,We,{caption:0,src:1,srcset:2,size:3,alignment:4,imgClass:5,figClass:6,alt:7,effect:8,captionClass:9})}}class Ke{constructor(e){S(this,"_a",0);S(this,"_b",0);S(this,"_c",0);S(this,"_d",0);S(this,"_h",0);S(this,"_leftDownAngle",0);S(this,"_rightDownAngle",0);this._a=e.a,this._b=e.b??this._b,this._c=e.c,this._d=e.d??this._d,this._h=e.h,this._leftDownAngle=e.leftDownAngle??this._leftDownAngle,this._rightDownAngle=e.rightDownAngle??this._rightDownAngle}changeBothLength(e){this.a=e,this.c=e}get a(){return this._a}set a(e){this._a=Number(e)}get b(){return this._b}set b(e){this._b=Number(e)}get c(){return this._c}set c(e){this._c=Number(e)}get d(){return this._d}set d(e){this._d=Number(e)}get h(){return this._h}set h(e){this._h=Number(e)}get leftDownAngle(){return this._leftDownAngle}set leftDownAngle(e){this._leftDownAngle=Number(e)}get rightDownAngle(){return this._rightDownAngle}set rightDownAngle(e){this._rightDownAngle=Number(e)}}class Ve{constructor(e){S(this,"name");S(this,"size");this.name=e.name,this.size=e.size}get square(){return this.size.h*((this.size.a+this.size.c)/2)}}function Vn(t){let e,n,i,o,s,l,r,a,v,_,h,g,f,c,u,p,F;const w=t[5].default,y=Cn(w,t,t[4],null);return{c(){e=E("div"),n=E("h2"),i=E("button"),o=E("span"),s=Z(t[0]),l=R(),r=sn("svg"),a=sn("path"),_=R(),h=E("div"),g=E("div"),y&&y.c(),this.h()},l(b){e=I(b,"DIV",{id:!0,"data-accordion":!0});var C=x(e);n=I(C,"H2",{id:!0});var z=x(n);i=I(z,"BUTTON",{type:!0,class:!0,"data-accordion-target":!0,"aria-expanded":!0,"aria-controls":!0});var O=x(i);o=I(O,"SPAN",{});var M=x(o);s=J(M,t[0]),M.forEach(k),l=q(O),r=on(O,"svg",{"data-accordion-icon":!0,class:!0,"aria-hidden":!0,xmlns:!0,fill:!0,viewBox:!0});var X=x(r);a=on(X,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),x(a).forEach(k),X.forEach(k),O.forEach(k),z.forEach(k),_=q(C),h=I(C,"DIV",{id:!0,class:!0,"aria-labelledby":!0});var oe=x(h);g=I(oe,"DIV",{class:!0});var le=x(g);y&&y.l(le),le.forEach(k),oe.forEach(k),C.forEach(k),this.h()},h(){d(a,"stroke","currentColor"),d(a,"stroke-linecap","round"),d(a,"stroke-linejoin","round"),d(a,"stroke-width","2"),d(a,"d","M9 5 5 1 1 5"),d(r,"data-accordion-icon",""),d(r,"class",v="w-3 h-3 "+(t[1]?"rotate-180":"")+" shrink-0"),d(r,"aria-hidden","true"),d(r,"xmlns","http://www.w3.org/2000/svg"),d(r,"fill","none"),d(r,"viewBox","0 0 10 6"),d(i,"type","button"),d(i,"class",t[2]),d(i,"data-accordion-target","#accordion-collapse-body-1"),d(i,"aria-expanded","true"),d(i,"aria-controls","accordion-collapse-body-1"),d(n,"id","accordion-collapse-heading-1"),d(g,"class","p-5 border border-gray-200 dark:border-gray-700 dark:bg-gray-900"),d(h,"id","accordion-collapse-body-1"),d(h,"class",f=t[1]?"":"hidden"),d(h,"aria-labelledby","accordion-collapse-heading-1"),d(e,"id","accordion-collapse"),d(e,"data-accordion",c=t[1]?"open":"collapse")},m(b,C){j(b,e,C),m(e,n),m(n,i),m(i,o),m(o,s),m(i,l),m(i,r),m(r,a),m(e,_),m(e,h),m(h,g),y&&y.m(g,null),u=!0,p||(F=Oe(i,"click",t[6]),p=!0)},p(b,[C]){(!u||C&1)&&fn(s,b[0]),(!u||C&2&&v!==(v="w-3 h-3 "+(b[1]?"rotate-180":"")+" shrink-0"))&&d(r,"class",v),(!u||C&4)&&d(i,"class",b[2]),y&&y.p&&(!u||C&16)&&yn(y,w,b,b[4],u?En(w,b[4],C,null):kn(b[4]),null),(!u||C&2&&f!==(f=b[1]?"":"hidden"))&&d(h,"class",f),(!u||C&2&&c!==(c=b[1]?"open":"collapse"))&&d(e,"data-accordion",c)},i(b){u||(H(y,b),u=!0)},o(b){W(y,b),u=!1},d(b){b&&k(e),y&&y.d(b),p=!1,F()}}}function On(t,e,n){let{$$slots:i={},$$scope:o}=e,{title:s=""}=e,l=!1;const r=()=>n(1,l=!l);let a="flex items-center justify-between w-full p-5 font-medium text-left border border-gray-200 rounded-xl focus:ring-4 focus:ring-gray-200 dark:focus:ring-gray-800 dark:border-gray-700 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-800";const v=()=>r();return t.$$set=_=>{"title"in _&&n(0,s=_.title),"$$scope"in _&&n(4,o=_.$$scope)},t.$$.update=()=>{if(t.$$.dirty&6){const _="rounded-xl",h="rounded-t-xl",g=" bg-gray-100";l?(n(2,a=a.replace(_,h)),n(2,a+=g)):(n(2,a=a.replace(h,_)),n(2,a=a.replace(g,"")))}},[s,l,a,r,o,i,v]}class yt extends Be{constructor(e){super(),He(this,e,On,Vn,We,{title:0})}}class Le{constructor(e){S(this,"blank");S(this,"_volume");this.blank=new Ve(e.blank),this._volume=e.volume}get volume(){return this._volume}set volume(e){this._volume=Number(e)}}const Bn="_app/immutable/assets/workPiece.321ca12f.png";function Hn(t){let e,n,i;return{c(){e=E("input"),this.h()},l(o){e=I(o,"INPUT",{id:!0,type:!0,name:!0,placeholder:!0,class:!0}),this.h()},h(){d(e,"id",t[1]),d(e,"type","text"),d(e,"name",t[1]),e.required=t[3],d(e,"placeholder",t[2]),d(e,"class","bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:bg-[white] focus:ring-primary-600 focus:border-primary-600 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-primary-500 dark:focus:border-primary-500")},m(o,s){j(o,e,s),an(e,t[0]),n||(i=[In(t[5].call(null,e)),Oe(e,"input",t[7]),Oe(e,"change",function(){Fn(t[4]?t[8]:null)&&(t[4]?t[8]:null).apply(this,arguments)})],n=!0)},p(o,[s]){t=o,s&2&&d(e,"id",t[1]),s&2&&d(e,"name",t[1]),s&8&&(e.required=t[3]),s&4&&d(e,"placeholder",t[2]),s&1&&e.value!==t[0]&&an(e,t[0])},i:_e,o:_e,d(o){o&&k(e),n=!1,hn(i)}}}function Wn(t,e,n){let{id:i=""}=e,{placeholder:o=""}=e,{type:s="text"}=e,{required:l=!1}=e,{value:r}=e,{onChange:a=void 0}=e;const v=g=>{g.type=s};function _(){r=this.value,n(0,r)}const h=g=>a(g.target.value);return t.$$set=g=>{"id"in g&&n(1,i=g.id),"placeholder"in g&&n(2,o=g.placeholder),"type"in g&&n(6,s=g.type),"required"in g&&n(3,l=g.required),"value"in g&&n(0,r=g.value),"onChange"in g&&n(4,a=g.onChange)},[r,i,o,l,a,v,s,_,h]}class Qe extends Be{constructor(e){super(),He(this,e,Wn,Hn,We,{id:1,placeholder:2,type:6,required:3,value:0,onChange:4})}}function Mn(t,e,n){const i=[],o=[],s=e.map(a=>a.blank.square+n),l=Math.min(...s),r=(a,v,_,h)=>{for(let g=a;g<v.length;g++){const f=v[g].blank.square+n,c=_-f;h.push(v[g].blank),c>=l?r(g,v,c,h):c<l&&c>=0&&i.push([...h]),h.pop()}};return r(0,e,t,o),i}function Xn(t,e,n){const o=[];return e.forEach(s=>{if(s.basisIndex<=t&&s.b>0){const l=parseFloat(s.b.toFixed(0));o.push({num:s.basisIndex+1,volume:l,cuttingCombination:n[s.basisIndex]})}}),o.sort((s,l)=>s.num-l.num)}class dn{constructor(e){S(this,"head",0);S(this,"body",[]);S(this,"tail",0);e&&(this.head=e.head,this.body=[...e.body],this.tail=e.tail)}}const $n=(t,e)=>{const n=[];return e.forEach(i=>{const o=new dn;o.head=i.blank.square,t.forEach(s=>{o.body.push(s.filter(l=>l.square===i.blank.square).length)}),o.tail=i.volume,n.push(o)}),n},Gn=t=>{const e=t.map(o=>new dn(o)),n=t.map(()=>0),i=(o,s)=>(s[o]=-1,s);return t.forEach((o,s)=>{const l=o.body.concat(i(s,[...n]));e[s].body=l.map(r=>r*-1),e[s].tail*=-1}),e};function De(t,e=3){return parseFloat((t*1e-6).toFixed(e))}function Ft(t,e=!1){const n=[],i=t[0].body.length,o=()=>{let s="V |";for(let l=1;l<=i;l++)s+=` X${l} `;return s+="| P",s};return n.push(o()),t.forEach(s=>{let l=`${parseFloat(s.head.toFixed(3))} |`;s.body.forEach(r=>{l+=r>-1?` ${r}  `:`${r}  `}),l+=e?`= ${s.tail}`:`>= ${s.tail}`,n.push(l)}),n}const pe=t=>{const n=[];let i="|  c  |  b  | ";t.rows[0].rowCoefficients.forEach((r,a)=>{i+=` X${a+1} `}),n.push(i),t.rows.forEach(r=>{const a=parseFloat(r.b.toFixed(2));let v=r.b>=0?`| X${r.basisIndex+1} | ${a} | `:`| X${r.basisIndex+1} | ${a} | `;r.rowCoefficients.forEach(_=>{const h=parseFloat(_.toFixed(2));v+=_>-1?` ${h} `:`${h} `}),n.push(v)});const o=t.rowF;let l=`| F  | ${parseFloat(o.b.toFixed(2))} | `;return o.rowCoefficients.forEach(r=>{const a=parseFloat(r.toFixed(2));l+=r>-1?` ${a} `:`${a} `}),n.push(l),n};function Kn(t,e){const s=[`Площадь не обрезанной заготовки: (${t.size.a} * ${t.size.h}) = ${parseFloat(t.square.toFixed(3))} мм² = ${De(t.square,3)} м²`,"Имя | Площадь мм²| Объем"];return e.forEach(l=>{const r=`${l.blank.name} | ${parseFloat(l.blank.square.toFixed(3))} | ${l.volume}`;s.push(r)}),s}function rn(t,e,n,i,o=!1){const l=[],r=parseFloat(e.square.toFixed(3));l.push("===> Результаты вычисления задачи поиска решения оптимального раскроя"),l.push(`
===> Исходные данные`),l.push(`Площадь сырья для раскроя: ${r} мм² =  ${De(r,3)} м²`),l.push("Заказ:"),n.forEach((p,F)=>{const w=parseFloat(p.blank.square.toFixed(3));l.push(`N${F+1}. Площадь обреза: ${w} мм² =  ${De(w,3)} м²; Количество: ${p.volume} шт.`)}),l.push(`
===> Варианты раскроя изделия исходя из начальных условий (матрица).`),l.push("X - варианты раскроя."),l.push("V - площадь обреза."),l.push("Пересечение V/X -  количество распилов длины V по отношению к длине сырья для раскроя."),Ft(i).forEach(p=>l.push(p)),l.push(`
===> Оптимальный раскрой материала`);let a=0,v=0;const _=i[0].body.length-1,h=o?0:1;t.rows.forEach(p=>{if(p.basisIndex<=_&&p.b>0){const F=parseFloat(p.b.toFixed(h)),w=`Количество распилов варианта X${p.basisIndex+1}: ${F} шт.`;l.push(w),a+=p.b,i.forEach(y=>{const b=y.body[p.basisIndex];b&&(v+=p.b*b*y.head)})}});const g=parseFloat((a*e.square).toFixed(3)),f=parseFloat(a.toFixed(h)),c=parseFloat(v.toFixed(3)),u=parseFloat((g-v).toFixed(3));return l.push(`
Количество заготовок для распила: ${f} шт.`),l.push(`Полезная площадь распилов: ${c} мм²  = ${De(c,3)} м²`),l.push(`Общая площадь требуемых заготовок для распилов: ${g} мм² =  ${De(g,3)} м²`),l.push(`Остатки: ${u} мм² = ${De(u,3)} м²`),l}class xt{constructor(e){S(this,"basisIndex",0);S(this,"rowCoefficients",[]);S(this,"b",0);e&&(this.basisIndex=e.basisIndex,this.rowCoefficients=[...e.rowCoefficients],this.b=e.b)}}class Dt{constructor(e){S(this,"rowCoefficients",[]);S(this,"b",0);e&&(this.rowCoefficients=[...e.rowCoefficients],this.b=e.b)}}class be{constructor(e){S(this,"rows",[]);S(this,"rowF",new Dt);e&&(this.rowF=new Dt(e.rowF),this.rows=e.rows.map(n=>new xt(n)))}}const Un=t=>{const e=new be,n=[];for(let i=t.length;i>0;i--)n.push(t[0].body.length-i);return n.forEach((i,o)=>{const s=t[o],l=new xt({basisIndex:i,rowCoefficients:s.body,b:s.tail});e.rows.push(l)}),e.rowF=new Dt({b:0,rowCoefficients:[]}),t[0].body.forEach((i,o)=>{const s=n.includes(o);e.rowF.rowCoefficients.push(s?0:1)}),e},Tt=(t,e)=>{const n=e.rowIndex,i=e.colIndex,o=new be(t);o.rows[n].basisIndex=i;const s=t.rows[n],l=s.rowCoefficients,r=l[i];t.rows.forEach((_,h)=>{const g=o.rows[h];if(h!==n){const f=_.rowCoefficients[i],c=s.b;g.b=_.b-f*c/r,g.rowCoefficients=_.rowCoefficients.map((u,p)=>{if(p===i)return 0;{const F=s.rowCoefficients[p];return u-f*F/r}})}else g.b=_.b/r,g.rowCoefficients=_.rowCoefficients.map(f=>f/r)});const a=o.rowF,v=t.rowF.rowCoefficients[i];return a.b=t.rowF.b-s.b*v/r,t.rowF.rowCoefficients.forEach((_,h)=>{h!==i?a.rowCoefficients[h]=_-l[h]*v/r:a.rowCoefficients[h]=0}),o};function Qn(t,e){const n=(r,a=!0)=>{const v=f=>{let c=0;const u=f.rows;return u.forEach((p,F)=>{if(a&&p.b<0){const w=u[c].b>=0?0:u[c].b*-1;c=p.b*-1>w?F:c}else if(!a){const w=u[c].b>=0?u[c].b:u[c].b*-1;c=(p.b>=0?p.b:p.b*-1)>w?F:c}}),c},_=(f,c)=>{const u=c.rows[f].rowCoefficients;let p=0;return u.forEach((F,w)=>{const y=u[p]>=0?u[p]:u[p]*-1;p=(F>=0?F:F*-1)>y?w:p}),p},h=v(r),g=_(h,r);return{rowIndex:h,colIndex:g}},i=r=>![...r.rows].filter(a=>a.b<0).length;let o=1,s=new be(t),l=i(s);for(;!l;){e.push(`
===> Начало итерации N${o}`),e.push(`
===> Этап 2. Шаг 1. Исходная таблица`),e.push(...pe(s)),e.push(`
===> Этап 2. Шаг 2. Проверка свободных членов на допустимость решения`),e.push(`Все свободные члены >= 0 ? Ответ:${l}`);const r=n(s);e.push(`
===> Этап 2. Шаг 3. Поиск ведущей строки и столбца`),e.push(`Строка: ${r.rowIndex}, столбец: ${r.colIndex}`),s=Tt(s,r),e.push(`
===> Этап 2. Шаг 4. Расчет новой симплекс таблицы `),e.push(...pe(s)),e.push(`
===> Конец итерации N${o}`),l=i(s),o++}return s}function Yn(t,e){const n=(r,a=!0)=>{const v=(f,c)=>{let u=0;return c.forEach((p,F)=>{const w=p.b/p.rowCoefficients[f];if(w>=0){const y=c[u].b/c[u].rowCoefficients[f];u=w<y||y<0?F:u}}),u},h=(f=>{let c=0;return f.forEach((u,p)=>{if(a&&u<0){const F=f[c]*-1;c=u*-1>F?p:c}else if(!a){const F=f[c]>=0?f[c]:f[c]*-1;c=(u>=0?u:u*-1)>F?p:c}}),c})(r.rowF.rowCoefficients);return{rowIndex:v(h,r.rows),colIndex:h}},i=r=>![...r.rowF.rowCoefficients].filter(a=>a<0).length;let o=1,s=new be(t),l=i(s);for(;!l;){e.push(`
===> Начало итерации N${o}`),e.push(`
===> Этап 3. Шаг 1. Исходная таблица`),e.push(...pe(s)),e.push(`
===> Этап 3. Шаг 2. Проверка коэффициентов функции F на допустимость решения.`),e.push(`Все коэффициентов >= 0 ? Ответ:${l}`);const r=n(s);e.push(`
===> Этап 3. Шаг 3. Поиск ведущей строки и столбца для коэффициентов функции F`),e.push(`Строка: ${r.rowIndex}, столбец: ${r.colIndex}`),s=Tt(s,r),e.push(`
===> Этап 3. Шаг 4. Расчет новой симплекс таблицы `),e.push(...pe(s)),e.push(`
===> Конец итерации N${o}`),l=i(s),o++}return s}function Zn(t,e){const n=_=>!_.rows.filter(h=>+h.b.toFixed(2)%1!==0).length,i=(_,h=2)=>{const g=new be(_);return g.rows.forEach(f=>{f.b=Number(f.b.toFixed(h)),f.rowCoefficients=f.rowCoefficients.map(c=>Number(c.toFixed(h)))}),g.rowF.rowCoefficients=g.rowF.rowCoefficients.map(f=>Number(f.toFixed(h))),g},o=_=>{const h=u=>{let p=0,F=0;return u.rows.forEach((w,y)=>{const b=w.b%1;b>p&&(p=b,F=y)}),e.push(`Максимальная дробная часть:${p}`),e.push(`Индекс максимальной дробной части:${F}`),F},g=u=>{const p=u%1;return u>=0?-p:p<0?-1-p:p},f=h(_),c=new xt(_.rows[f]);return c.b=g(c.b),c.rowCoefficients=[...c.rowCoefficients.map(u=>g(u)),1],c},s=_=>{const h=(g,f)=>{let c=0;return f.forEach((u,p)=>{const F=g/u;if(F>0){const w=u/f[c];c=F<w||w<0?p:c}}),c};return{rowIndex:a.rows.length-1,colIndex:h(_.b,_.rowCoefficients)}},l=(_,h)=>{const g=c=>{const u=new be(c);return u.rows.forEach(p=>p.rowCoefficients.push(0)),u.rowF.rowCoefficients.push(0),u},f=new be(_);return a=g(a),f.rows.push(h),f};let r=1,a=new be(t),v=n(a);for(e.push(`
===> Этап 4. Шаг 0. Проверка свободных членов на целочисленность.`),e.push(`Все свободные члены b целые ? Ответ:${v}`),a=i(a);!v;){e.push(`
===> Начало итерации N${r}`),e.push(`
===> Этап 4. Шаг 1. Исходная таблица`),e.push(...pe(a)),e.push(`
===> Этап 4. Шаг 2. Формирование нового ограничения`);const _=o(a);a=l(a,_),e.push(...pe(a)),e.push(`
===> Этап 4. Шаг 3. Поиск ведущей строки и столбца`);const h=s(_);e.push(`
===> Этап 4. Шаг 4. Расчет новой симплекс таблицы `),a=i(Tt(a,h)),e.push(...pe(a)),e.push(`
===> Этап 4. Шаг 4. Проверка свободных членов на целочисленность.`),v=n(a),e.push(`Все свободные члены b целые ? Ответ: ${v}`),e.push(`
===> Конец итерации N${r}`),r++}return a}const Jn=t=>{const e=t.stockSawing*2*t.rawWorkPiece.size.h,n=[];n.push(`
===> Этап 0. Подготовка данных и коэффициентов `),n.push(`Припуск распила: ${t.stockSawing}`),n.push(`Площадь припуска распила: ${e} мм² = ${De(e)} м²`),n.push(`
Таблица заготовок и их параметров`),n.push(...Kn(t.rawWorkPiece,t.listOrders));const i=Mn(t.rawWorkPiece.square,t.listOrders,e);n.push(`
===> Этап 0. Шаг 1. Варианты раскроя изделия исходя из начальных условий.`),n.push(`Количество комбинаций: ${i.length}`),n.push(`
===> Этап 1. Переход к канонической форме задачи линейного программирования путем введения неотрицательных дополнительных балансовых переменных.`);const o=$n(i,t.listOrders);n.push(`
===> Этап 1. Шаг 1. Получение матрицы коэффициентов`),n.push(...Ft(o));const s=Gn(o);n.push(`
===> Этап 1. Шаг 2. Переход к канонической форме задачи линейного программирования путем введения неотрицательных дополнительных балансовых переменных.`),n.push(...Ft(s,!0)),n.push(`
===> Этап 2.  Проверка симплекс таблицы на допустимость решения. Расчет новой симплекс таблицы. `),n.push(`
===> Этап 2. Шаг 0. Инициализация симплекс таблицы`);const l=Un(s),r=Qn(l,n);n.push(`
===> Этап 3. Основной алгоритм решения задачи ЛП симплекс-методом. Расчет новой симплекс таблицы. `);const a=Yn(r,n);n.push(...pe(a)),n.push(...rn(a,t.rawWorkPiece,t.listOrders,o).map(h=>`
${h}`)),n.push(`
===> Этап 4. Алгоритм поиска целочисленного решения ЗЛП методом Гомори `);const v=Zn(a,n);n.push(...rn(v,t.rawWorkPiece,t.listOrders,o,!0).map(h=>`
${h}`));const _=Xn(o[0].body.length-1,v.rows,i);return{listLogMessages:n,cuttingCombinations:i,optimumCombinations:_}};function Ln(t){let e,n;return{c(){e=E("label"),n=Z(t[1]),this.h()},l(i){e=I(i,"LABEL",{for:!0,class:!0});var o=x(e);n=J(o,t[1]),o.forEach(k),this.h()},h(){d(e,"for",t[0]),d(e,"class","block mb-2 text-sm font-medium text-gray-900 dark:text-white")},m(i,o){j(i,e,o),m(e,n)},p(i,[o]){o&2&&fn(n,i[1]),o&1&&d(e,"for",i[0])},i:_e,o:_e,d(i){i&&k(e)}}}function jn(t,e,n){let{forName:i}=e,{text:o}=e;return t.$$set=s=>{"forName"in s&&n(0,i=s.forName),"text"in s&&n(1,o=s.text)},[i,o]}class es extends Be{constructor(e){super(),He(this,e,jn,Ln,We,{forName:0,text:1})}}function ts(t){let e,n,i,o,s;e=new es({props:{forName:t[1],text:t[6]}});function l(a){t[7](a)}let r={id:t[1],type:t[3],placeholder:t[2],required:t[4],onChange:t[5]};return t[0]!==void 0&&(r.value=t[0]),i=new Qe({props:r}),de.push(()=>me(i,"value",l)),{c(){G(e.$$.fragment),n=R(),G(i.$$.fragment)},l(a){K(e.$$.fragment,a),n=q(a),K(i.$$.fragment,a)},m(a,v){U(e,a,v),j(a,n,v),U(i,a,v),s=!0},p(a,[v]){const _={};v&2&&(_.forName=a[1]),v&64&&(_.text=a[6]),e.$set(_);const h={};v&2&&(h.id=a[1]),v&8&&(h.type=a[3]),v&4&&(h.placeholder=a[2]),v&16&&(h.required=a[4]),v&32&&(h.onChange=a[5]),!o&&v&1&&(o=!0,h.value=a[0],ge(()=>o=!1)),i.$set(h)},i(a){s||(H(e.$$.fragment,a),H(i.$$.fragment,a),s=!0)},o(a){W(e.$$.fragment,a),W(i.$$.fragment,a),s=!1},d(a){Q(e,a),a&&k(n),Q(i,a)}}}function ns(t,e,n){let{id:i=""}=e,{placeholder:o=""}=e,{type:s="text"}=e,{required:l=!1}=e,{value:r}=e,{onChange:a=void 0}=e,{label:v=""}=e;function _(h){r=h,n(0,r)}return t.$$set=h=>{"id"in h&&n(1,i=h.id),"placeholder"in h&&n(2,o=h.placeholder),"type"in h&&n(3,s=h.type),"required"in h&&n(4,l=h.required),"value"in h&&n(0,r=h.value),"onChange"in h&&n(5,a=h.onChange),"label"in h&&n(6,v=h.label)},[r,i,o,s,l,a,v,_]}class je extends Be{constructor(e){super(),He(this,e,ns,ts,We,{id:1,placeholder:2,type:3,required:4,value:0,onChange:5,label:6})}}class kt{constructor(e){S(this,"originalWidth");S(this,"originalHeight");S(this,"_name");S(this,"_x");S(this,"_y");S(this,"_w");S(this,"_h");S(this,"_color");S(this,"isRevert");this._name=e.name,this.originalWidth=e.w,this.originalHeight=e.h,this._x=e.x/5,this._y=e.y/2,this._w=e.w/5,this._h=e.h/2,this.isRevert=e.isRevert??!1,this._color=e.color}get name(){return this._name}set name(e){this._name=e}get x(){return this._x}set x(e){this._x=e}get y(){return this._y}set y(e){this._y=e}get w(){return this._w}set w(e){this._w=e}get h(){return this._h}set h(e){this._h=e}get color(){return this._color}set color(e){this._color=e}}const et={REMAINS:"Ост.",STOCK:"п."};function ln(t,e,n,i){const o=(f,c,u)=>{const p=[],F=(w,y,b,C=et.STOCK,z=!0)=>new kt({name:C,x:y,y:w,w:b,h:w,color:"lightgray",isRevert:z});return u.forEach(w=>{let y=0;const b={num:w.num,volume:w.volume,combination:[]};w.cuttingCombination.forEach((C,z)=>{if(f){const M=F(C.size.h,y,z===0?f:f*2);b.combination.push(M)}y+=f;const O=new kt({name:C.name,x:y,y:C.size.h,w:C.size.a,h:C.size.h,color:"#d1ffd8"});if(b.combination.push(O),y+=C.size.a,z===w.cuttingCombination.length-1&&f){b.combination.push(F(C.size.h,y,f)),y+=f;const M=c-f-y,X=F(C.size.h,y,M,et.REMAINS,!1);b.combination.push(X)}}),p.push(b)}),p},s=(f,c)=>{c.setLineDash([5,3]),c.textBaseline="bottom",c.lineDashOffset=1,c.beginPath(),c.moveTo(0,f.h+50);const u=50,p=(w,y)=>{c.lineTo(w.x,w.h-y),c.lineTo(w.w,w.h-y),c.lineTo(w.w,w.h);const b={x:w.w/2,y:w.h-y-10};c.fillText(` ${w.originalWidth} мм`,b.x,b.y),c.stroke()},F=(w,y)=>{c.lineTo(w.w+y,w.h),c.lineTo(w.w+y,w.h*2),c.lineTo(w.w,w.h*2),c.textBaseline="top",c.rotate(90*Math.PI/180);const b={x:w.h+w.h/4,y:-(w.w+y+20)};c.fillText(` ${w.originalHeight} мм`,b.x,b.y),c.rotate(-(90*Math.PI)/180),c.stroke()};p(f,u),F(f,u)},l=(f,c,u)=>{const p={x:f.x,y:f.isRevert?f.h:2*f.h};u=f.isRevert?-u:u,c.moveTo(p.x,p.y),c.lineTo(p.x,p.y+u),c.lineTo(p.x+f.w,p.y+u),c.lineTo(p.x+f.w,p.y);const F={x:f.x+f.w/3,y:p.y+u+10};c.fillText(` ${f.originalWidth} мм`,F.x,F.y),c.stroke()},r=(f,c)=>{c.strokeStyle="#B70A02",c.strokeRect(f.x,f.y,f.w,f.h),c.fillStyle=f.color,c.fillRect(f.x,f.y,f.w,f.h),c.fillStyle="black",c.textBaseline="middle";const u={x:f.x+f.w/5,y:f.h+f.h/2};c.fillText(` "${f.name}" `,u.x,u.y),c.strokeStyle="gray"},a=(f,c,u)=>{const p=(y,b)=>{y.innerHTML+="<ul>";const C={};b.combination.forEach(z=>{z.name!==et.REMAINS&&z.name!==et.STOCK&&(C[z.name]=C[z.name]?C[z.name]+1:1)});for(const z in C)y.innerHTML+=`<li>Количество деталей "${z}": ${C[z]}</li>`;y.innerHTML+="</ul>"},F=u.appendChild(document.createElement("div")),w=c.volume?`(${c.volume} шт.)`:"";F.innerHTML+=`<b>Вариант №${f} ${w}</b>`,p(F,c)},v=f=>{for(;f!=null&&f.firstChild&&f.lastChild;)f.removeChild(f.lastChild)},_=f=>{const c=new kt({name:"rawPiece",x:0,y:n.size.h,w:n.size.a,h:n.size.h,color:"#DADADA"});s(c,f),r(c,f)},h=f=>{const c=f.appendChild(document.createElement("div"));c.className="flex flex-row justify-around items-center";const u=c.appendChild(document.createElement("canvas")),p=u.getContext("2d");return u.width=1100,u.height=250,p},g=document.getElementById(t);g&&(v(g),o(e,n.size.a,i).forEach(f=>{a(f.num,f,g);const c=h(g);_(c),f.combination.forEach(u=>{l(u,c,20),r(u,c)})}))}function cn(t,e,n){const i=t.slice();return i[17]=e[n],i[18]=e,i[19]=n,i}function un(t){let e,n,i=t[19]+1+"",o,s,l,r,a,v,_,h,g,f,c,u,p,F,w,y,b,C,z;function O(T){t[10](T,t[17])}let M={type:"text",id:"namePiece",placeholder:"Наименования детали..."};t[17].blank.name!==void 0&&(M.value=t[17].blank.name),r=new Qe({props:M}),de.push(()=>me(r,"value",O));function X(T){t[11](T,t[17])}let oe={type:"number",id:"lengthAPiece",placeholder:"Длина верхнего основания детали..."};t[17].blank.size.a!==void 0&&(oe.value=t[17].blank.size.a),h=new Qe({props:oe}),de.push(()=>me(h,"value",X));function le(T){t[12](T,t[17])}let te={type:"number",id:"lengthCPiece",placeholder:"Длина нижнего основания детали..."};t[17].blank.size.c!==void 0&&(te.value=t[17].blank.size.c),u=new Qe({props:te}),de.push(()=>me(u,"value",le));function Me(T){t[13](T,t[17])}let ie={type:"number",id:"volumePiece",placeholder:"Количество деталей данного типа..."};return t[17].volume!==void 0&&(ie.value=t[17].volume),y=new Qe({props:ie}),de.push(()=>me(y,"value",Me)),{c(){e=E("tr"),n=E("th"),o=Z(i),s=R(),l=E("td"),G(r.$$.fragment),v=R(),_=E("td"),G(h.$$.fragment),f=R(),c=E("td"),G(u.$$.fragment),F=R(),w=E("td"),G(y.$$.fragment),C=R(),this.h()},l(T){e=I(T,"TR",{class:!0});var N=x(e);n=I(N,"TH",{scope:!0,class:!0});var ae=x(n);o=J(ae,i),ae.forEach(k),s=q(N),l=I(N,"TD",{class:!0});var $=x(l);K(r.$$.fragment,$),$.forEach(k),v=q(N),_=I(N,"TD",{class:!0});var L=x(_);K(h.$$.fragment,L),L.forEach(k),f=q(N),c=I(N,"TD",{class:!0});var re=x(c);K(u.$$.fragment,re),re.forEach(k),F=q(N),w=I(N,"TD",{class:!0});var xe=x(w);K(y.$$.fragment,xe),xe.forEach(k),C=q(N),N.forEach(k),this.h()},h(){d(n,"scope","row"),d(n,"class","px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white"),d(l,"class","px-6 py-4"),d(_,"class","px-6 py-4"),d(c,"class","px-6 py-4"),d(w,"class","px-6 py-4"),d(e,"class","bg-white border-b dark:bg-gray-700 dark:border-gray-600 hover:bg-[gray]/5 dark:hover:bg-gray-600")},m(T,N){j(T,e,N),m(e,n),m(n,o),m(e,s),m(e,l),U(r,l,null),m(e,v),m(e,_),U(h,_,null),m(e,f),m(e,c),U(u,c,null),m(e,F),m(e,w),U(y,w,null),m(e,C),z=!0},p(T,N){t=T;const ae={};!a&&N&4&&(a=!0,ae.value=t[17].blank.name,ge(()=>a=!1)),r.$set(ae);const $={};!g&&N&4&&(g=!0,$.value=t[17].blank.size.a,ge(()=>g=!1)),h.$set($);const L={};!p&&N&4&&(p=!0,L.value=t[17].blank.size.c,ge(()=>p=!1)),u.$set(L);const re={};!b&&N&4&&(b=!0,re.value=t[17].volume,ge(()=>b=!1)),y.$set(re)},i(T){z||(H(r.$$.fragment,T),H(h.$$.fragment,T),H(u.$$.fragment,T),H(y.$$.fragment,T),z=!0)},o(T){W(r.$$.fragment,T),W(h.$$.fragment,T),W(u.$$.fragment,T),W(y.$$.fragment,T),z=!1},d(T){T&&k(e),Q(r),Q(h),Q(u),Q(y)}}}function ss(t){let e;return{c(){e=E("div"),this.h()},l(n){e=I(n,"DIV",{id:!0,class:!0}),x(e).forEach(k),this.h()},h(){d(e,"id","containerWorkPieceCanvases"),d(e,"class","flex flex-col")},m(n,i){j(n,e,i)},p:_e,d(n){n&&k(e)}}}function os(t){let e,n,i;return{c(){e=E("div"),this.h()},l(o){e=I(o,"DIV",{id:!0,contenteditable:!0}),x(e).forEach(k),this.h()},h(){d(e,"id","log"),d(e,"contenteditable","true"),t[3]===void 0&&Sn(()=>t[14].call(e))},m(o,s){j(o,e,s),t[3]!==void 0&&(e.innerHTML=t[3]),n||(i=Oe(e,"input",t[14]),n=!0)},p(o,s){s&8&&o[3]!==e.innerHTML&&(e.innerHTML=o[3])},d(o){o&&k(e),n=!1,i()}}}function is(t){let e;return{c(){e=E("div"),this.h()},l(n){e=I(n,"DIV",{id:!0,class:!0}),x(e).forEach(k),this.h()},h(){d(e,"id","containerOptimumCombinationsCanvases"),d(e,"class","flex flex-col")},m(n,i){j(n,e,i)},p:_e,d(n){n&&k(e)}}}function as(t){let e,n,i,o,s,l,r,a,v,_,h,g,f,c,u,p,F,w,y,b,C,z,O,M,X,oe,le,te,Me,ie,T,N,ae,$,L,re,xe,ce,Te,Y,we,nt,st,ve,ot,it,Ce,at,rt,ye,lt,ct,ke,ut,ft,Se,ht,Ee,dt,mt,ze,ue,gt,Ye,bt,Re,pt,_t,qe,fe,wt,Pe,he,Ze,vt,St;function mn(D){t[6](D)}let zt={label:"Имя",id:"nameWorkPiece",type:"text",placeholder:"Имя исходной заготовки...",required:!0};t[1].name!==void 0&&(zt.value=t[1].name),c=new je({props:zt}),de.push(()=>me(c,"value",mn)),w=new je({props:{label:"Длина (a), мм.",id:"lengthRawPiece",type:"number",placeholder:"Длина исходной заготовки(в миллиметрах)...",value:t[1].size.a,onChange:t[7],required:!0}});function gn(D){t[8](D)}let Rt={label:"Ширина (h), мм.",id:"widthRawPiece",type:"number",placeholder:"Ширина исходной заготовки (в миллиметрах)...",required:!0};t[1].size.h!==void 0&&(Rt.value=t[1].size.h),C=new je({props:Rt}),de.push(()=>me(C,"value",gn));function bn(D){t[9](D)}let qt={label:"Припуск, мм.",id:"stockSawing",type:"number",placeholder:"Припуск при распиле (в миллиметрах)...",required:!0};t[0]!==void 0&&(qt.value=t[0]),X=new je({props:qt}),de.push(()=>me(X,"value",bn)),te=new Nn({props:{src:Bn,class:"max-h-72 m-auto"}});let Ie=t[2],A=[];for(let D=0;D<Ie.length;D+=1)A[D]=un(cn(t,Ie,D));const pn=D=>W(A[D],1,1,()=>{A[D]=null});return ue=new yt({props:{title:"Варианты раскроя",$$slots:{default:[ss]},$$scope:{ctx:t}}}),fe=new yt({props:{title:"Результаты вычислений",$$slots:{default:[os]},$$scope:{ctx:t}}}),he=new yt({props:{title:"Оптимальные варианты раскроя",$$slots:{default:[is]},$$scope:{ctx:t}}}),{c(){e=E("div"),n=E("div"),i=E("main"),o=E("div"),s=E("div"),l=E("section"),r=E("div"),a=E("h2"),v=Z("Параметры исходной заготовки для распила"),_=R(),h=E("form"),g=E("div"),f=E("div"),G(c.$$.fragment),p=R(),F=E("div"),G(w.$$.fragment),y=R(),b=E("div"),G(C.$$.fragment),O=R(),M=E("div"),G(X.$$.fragment),le=R(),G(te.$$.fragment),Me=R(),ie=E("div"),T=E("button"),N=Z("Запустить расчет"),ae=R(),$=E("div"),L=E("h2"),re=Z("Список требуемых деталей из заказа"),xe=R(),ce=E("table"),Te=E("thead"),Y=E("tr"),we=E("th"),nt=Z("№"),st=R(),ve=E("th"),ot=Z("Имя"),it=R(),Ce=E("th"),at=Z("Длина верхнего основания (a), мм."),rt=R(),ye=E("th"),lt=Z("Длина нижнего основания (c), мм."),ct=R(),ke=E("th"),ut=Z("Количество, шт."),ft=R(),Se=E("tbody");for(let D=0;D<A.length;D+=1)A[D].c();ht=R(),Ee=E("button"),dt=Z("+ Добавить деталь"),mt=R(),ze=E("div"),G(ue.$$.fragment),gt=R(),Ye=E("hr"),bt=R(),Re=E("h2"),pt=Z("Результаты"),_t=R(),qe=E("div"),G(fe.$$.fragment),wt=R(),Pe=E("div"),G(he.$$.fragment),this.h()},l(D){e=I(D,"DIV",{class:!0});var P=x(e);n=I(P,"DIV",{class:!0});var ne=x(n);i=I(ne,"MAIN",{class:!0});var Ae=x(i);o=I(Ae,"DIV",{class:!0});var Xe=x(o);s=I(Xe,"DIV",{class:!0});var V=x(s);l=I(V,"SECTION",{class:!0});var $e=x(l);r=I($e,"DIV",{class:!0});var Fe=x(r);a=I(Fe,"H2",{class:!0});var Ge=x(a);v=J(Ge,"Параметры исходной заготовки для распила"),Ge.forEach(k),_=q(Fe),h=I(Fe,"FORM",{action:!0});var B=x(h);g=I(B,"DIV",{class:!0});var ee=x(g);f=I(ee,"DIV",{class:!0});var Pt=x(f);K(c.$$.fragment,Pt),Pt.forEach(k),p=q(ee),F=I(ee,"DIV",{class:!0});var At=x(F);K(w.$$.fragment,At),At.forEach(k),y=q(ee),b=I(ee,"DIV",{class:!0});var Nt=x(b);K(C.$$.fragment,Nt),Nt.forEach(k),O=q(ee),M=I(ee,"DIV",{class:!0});var Vt=x(M);K(X.$$.fragment,Vt),Vt.forEach(k),ee.forEach(k),B.forEach(k),Fe.forEach(k),$e.forEach(k),le=q(V),K(te.$$.fragment,V),Me=q(V),ie=I(V,"DIV",{class:!0});var Ot=x(ie);T=I(Ot,"BUTTON",{class:!0});var Bt=x(T);N=J(Bt,"Запустить расчет"),Bt.forEach(k),Ot.forEach(k),ae=q(V),$=I(V,"DIV",{class:!0});var Ne=x($);L=I(Ne,"H2",{class:!0});var Ht=x(L);re=J(Ht,"Список требуемых деталей из заказа"),Ht.forEach(k),xe=q(Ne),ce=I(Ne,"TABLE",{class:!0});var Je=x(ce);Te=I(Je,"THEAD",{class:!0});var Wt=x(Te);Y=I(Wt,"TR",{});var se=x(Y);we=I(se,"TH",{scope:!0,class:!0});var Mt=x(we);nt=J(Mt,"№"),Mt.forEach(k),st=q(se),ve=I(se,"TH",{scope:!0,class:!0});var Xt=x(ve);ot=J(Xt,"Имя"),Xt.forEach(k),it=q(se),Ce=I(se,"TH",{scope:!0,class:!0});var $t=x(Ce);at=J($t,"Длина верхнего основания (a), мм."),$t.forEach(k),rt=q(se),ye=I(se,"TH",{scope:!0,class:!0});var Gt=x(ye);lt=J(Gt,"Длина нижнего основания (c), мм."),Gt.forEach(k),ct=q(se),ke=I(se,"TH",{scope:!0,class:!0});var Kt=x(ke);ut=J(Kt,"Количество, шт."),Kt.forEach(k),se.forEach(k),Wt.forEach(k),ft=q(Je),Se=I(Je,"TBODY",{});var Ut=x(Se);for(let Ct=0;Ct<A.length;Ct+=1)A[Ct].l(Ut);Ut.forEach(k),Je.forEach(k),ht=q(Ne),Ee=I(Ne,"BUTTON",{class:!0});var Qt=x(Ee);dt=J(Qt,"+ Добавить деталь"),Qt.forEach(k),Ne.forEach(k),mt=q(V),ze=I(V,"DIV",{class:!0});var Yt=x(ze);K(ue.$$.fragment,Yt),Yt.forEach(k),gt=q(V),Ye=I(V,"HR",{class:!0}),bt=q(V),Re=I(V,"H2",{class:!0});var Zt=x(Re);pt=J(Zt,"Результаты"),Zt.forEach(k),_t=q(V),qe=I(V,"DIV",{class:!0});var Jt=x(qe);K(fe.$$.fragment,Jt),Jt.forEach(k),wt=q(V),Pe=I(V,"DIV",{class:!0});var Lt=x(Pe);K(he.$$.fragment,Lt),Lt.forEach(k),V.forEach(k),Xe.forEach(k),Ae.forEach(k),ne.forEach(k),P.forEach(k),this.h()},h(){d(a,"class","mb-4 text-xl font-bold text-gray-900 dark:text-white"),d(f,"class","sm:col-span-2"),d(F,"class","w-full"),d(b,"class","w-full"),d(M,"class","w-full"),d(g,"class","grid gap-4 sm:grid-cols-2 sm:gap-6"),d(h,"action","#"),d(r,"class","py-8 px-4 mx-auto max-w-2xl lg:py-16"),d(l,"class","bg-white dark:bg-gray-900"),d(T,"class","inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center float-right text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),d(ie,"class","relative overflow-x-auto"),d(L,"class","mb-4 text-xl font-bold text-gray-900 dark:text-white"),d(we,"scope","col"),d(we,"class","px-6 py-3"),d(ve,"scope","col"),d(ve,"class","px-6 py-3"),d(Ce,"scope","col"),d(Ce,"class","px-6 py-3"),d(ye,"scope","col"),d(ye,"class","px-6 py-3"),d(ke,"scope","col"),d(ke,"class","px-6 py-3"),d(Te,"class","text-xs text-gray-600 uppercase bg-gray-50 dark:bg-gray-600 dark:text-gray-400"),d(ce,"class","w-full text-sm text-left text-gray-500 dark:text-gray-400"),d(Ee,"class","inline-flex items-center px-5 py-2.5 mt-4 sm:mt-6 text-sm font-medium text-center float-right text-white bg-primary-600 rounded-lg focus:ring-4 focus:ring-primary-200 dark:focus:ring-primary-900 hover:bg-primary-700"),d($,"class","relative overflow-x-auto"),d(ze,"class","mt-5"),d(Ye,"class","my-10"),d(Re,"class","mb-4 text-xl font-bold text-gray-900 dark:text-white"),d(qe,"class","mt-5"),d(Pe,"class","mt-5"),d(s,"class","flex-auto max-w-8xl min-w-0 pt-6 lg:px-8 lg:pt-8 pb:12 xl:pb-24 lg:pb-16"),d(o,"class","flex w-full"),d(i,"class","flex-auto w-full min-w-0 lg:static lg:max-h-full lg:overflow-visible"),d(n,"class","lg:flex"),d(e,"class","w-full px-4 mx-auto max-w-8xl")},m(D,P){j(D,e,P),m(e,n),m(n,i),m(i,o),m(o,s),m(s,l),m(l,r),m(r,a),m(a,v),m(r,_),m(r,h),m(h,g),m(g,f),U(c,f,null),m(g,p),m(g,F),U(w,F,null),m(g,y),m(g,b),U(C,b,null),m(g,O),m(g,M),U(X,M,null),m(s,le),U(te,s,null),m(s,Me),m(s,ie),m(ie,T),m(T,N),m(s,ae),m(s,$),m($,L),m(L,re),m($,xe),m($,ce),m(ce,Te),m(Te,Y),m(Y,we),m(we,nt),m(Y,st),m(Y,ve),m(ve,ot),m(Y,it),m(Y,Ce),m(Ce,at),m(Y,rt),m(Y,ye),m(ye,lt),m(Y,ct),m(Y,ke),m(ke,ut),m(ce,ft),m(ce,Se);for(let ne=0;ne<A.length;ne+=1)A[ne]&&A[ne].m(Se,null);m($,ht),m($,Ee),m(Ee,dt),m(s,mt),m(s,ze),U(ue,ze,null),m(s,gt),m(s,Ye),m(s,bt),m(s,Re),m(Re,pt),m(s,_t),m(s,qe),U(fe,qe,null),m(s,wt),m(s,Pe),U(he,Pe,null),Ze=!0,vt||(St=[Oe(T,"click",t[5]),Oe(Ee,"click",t[4])],vt=!0)},p(D,[P]){const ne={};!u&&P&2&&(u=!0,ne.value=D[1].name,ge(()=>u=!1)),c.$set(ne);const Ae={};P&2&&(Ae.value=D[1].size.a),P&2&&(Ae.onChange=D[7]),w.$set(Ae);const Xe={};!z&&P&2&&(z=!0,Xe.value=D[1].size.h,ge(()=>z=!1)),C.$set(Xe);const V={};if(!oe&&P&1&&(oe=!0,V.value=D[0],ge(()=>oe=!1)),X.$set(V),P&4){Ie=D[2];let B;for(B=0;B<Ie.length;B+=1){const ee=cn(D,Ie,B);A[B]?(A[B].p(ee,P),H(A[B],1)):(A[B]=un(ee),A[B].c(),H(A[B],1),A[B].m(Se,null))}for(zn(),B=Ie.length;B<A.length;B+=1)pn(B);Dn()}const $e={};P&1048576&&($e.$$scope={dirty:P,ctx:D}),ue.$set($e);const Fe={};P&1048584&&(Fe.$$scope={dirty:P,ctx:D}),fe.$set(Fe);const Ge={};P&1048576&&(Ge.$$scope={dirty:P,ctx:D}),he.$set(Ge)},i(D){if(!Ze){H(c.$$.fragment,D),H(w.$$.fragment,D),H(C.$$.fragment,D),H(X.$$.fragment,D),H(te.$$.fragment,D);for(let P=0;P<Ie.length;P+=1)H(A[P]);H(ue.$$.fragment,D),H(fe.$$.fragment,D),H(he.$$.fragment,D),Ze=!0}},o(D){W(c.$$.fragment,D),W(w.$$.fragment,D),W(C.$$.fragment,D),W(X.$$.fragment,D),W(te.$$.fragment,D),A=A.filter(Boolean);for(let P=0;P<A.length;P+=1)W(A[P]);W(ue.$$.fragment,D),W(fe.$$.fragment,D),W(he.$$.fragment,D),Ze=!1},d(D){D&&k(e),Q(c),Q(w),Q(C),Q(X),Q(te),xn(A,D),Q(ue),Q(fe),Q(he),vt=!1,hn(St)}}}let Ue=200;function rs(t,e,n){let i=5,o=new Ve({name:"Основная",size:new Ke({a:5e3,c:5e3,h:Ue})}),s=[new Le({blank:new Ve({name:"Д. №1",size:new Ke({a:500,c:500,h:Ue})}),volume:10}),new Le({blank:new Ve({name:"Д. №2",size:new Ke({a:2300,c:2300,h:Ue})}),volume:20}),new Le({blank:new Ve({name:"Д. №3",size:new Ke({a:3500,c:3500,h:Ue})}),volume:30})];const l=()=>{const b=new Le({blank:new Ve({name:`Д. №${s.length+1}`,size:new Ke({a:0,c:0,h:Ue})}),volume:0});n(2,s=[...s,b])};let r,a="";const v=b=>{const C=[],z=O=>O.volume>0&&O.blank.size.a>0&&O.blank.size.c>0;return b.forEach(O=>{O.blank.size.h=o.size.h,z(O)&&C.push(O)}),C},_=()=>{if(i>=0&&o.name.length>0&&o.size.a&&o.size.c&&o.size.h)if(n(2,s=v(s)),s.length){r=Jn({stockSawing:i,rawWorkPiece:o,listOrders:s});const b=r.cuttingCombinations.map((C,z)=>({num:z+1,volume:0,cuttingCombination:C}));ln("containerWorkPieceCanvases",i,o,b),ln("containerOptimumCombinationsCanvases",i,o,r.optimumCombinations),n(3,a=r.listLogMessages.map(C=>C.includes("===>")?`<p class='mt-2 font-bold'>${C}</p>`:`<p '>${C}</p>`).join(""))}else alert("Внимание! Нет валидных деталей для выполнения алгоритма. Скорее всего не все поля были заполнены.");else alert("Внимание! Не корректно заполнены параметры исходной заготовки.")};Tn(()=>{_()});function h(b){t.$$.not_equal(o.name,b)&&(o.name=b,n(1,o))}const g=b=>o.size.changeBothLength(b);function f(b){t.$$.not_equal(o.size.h,b)&&(o.size.h=b,n(1,o))}function c(b){i=b,n(0,i)}function u(b,C){t.$$.not_equal(C.blank.name,b)&&(C.blank.name=b,n(2,s))}function p(b,C){t.$$.not_equal(C.blank.size.a,b)&&(C.blank.size.a=b,n(2,s))}function F(b,C){t.$$.not_equal(C.blank.size.c,b)&&(C.blank.size.c=b,n(2,s))}function w(b,C){t.$$.not_equal(C.volume,b)&&(C.volume=b,n(2,s))}function y(){a=this.innerHTML,n(3,a)}return[i,o,s,a,l,_,h,g,f,c,u,p,F,w,y]}class fs extends Be{constructor(e){super(),He(this,e,rs,as,We,{})}}export{fs as component};
